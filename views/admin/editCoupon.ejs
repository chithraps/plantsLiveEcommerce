<%- include('../partials/adminHeader') %>

<head>
  <style>
    .btn-class {
      background-color: rgb(66, 182, 105);
      color: #ffffff;
    }

    .btn-class:hover {
      background-color: rgb(19, 102, 47);
      color: #ffffff;
    }

    .container {
      overflow-x: hidden !important;
      /* Hide horizontal overflow */
      max-width: 1100px;
      overflow-y: auto;
      /* Add a vertical scrollbar if necessary */
    }

    a {
      text-decoration: none;
    }
  </style>
</head>
<div class="container mt-5 mb-5 col">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card">
        <div class="card-header">
          <h3 class="text-center h3-text">Edit Coupon</h3>
        </div>
        <div class="card-body">
          <form action="/admin/editCoupon" method="POST" id="editCoupon">
  <input type="hidden" name="couponId" value="<%= coupon._id %>" />

  <div class="form-group">
    <label for="code">Coupon Code:</label>
    <input
      type="text"
      class="form-control"
      id="code"
      name="code"
      value="<%= coupon.code %>"
      required
    />
  </div>

  <div class="form-group">
    <label for="description">Description:</label>
    <input
      type="text"
      class="form-control"
      id="description"
      name="description"
      value="<%= coupon.description %>"
      required
    />
  </div>

  <div class="form-group">
    <label for="discountType">Discount Type:</label>
    <select class="form-control" id="discountType" name="discountType" required>
      <option value="percentage" <%= coupon.discountType === 'percentage' ? 'selected' : '' %>>Percentage</option>
      <option value="fixed" <%= coupon.discountType === 'fixed' ? 'selected' : '' %>>Fixed</option>
    </select>
  </div>

  <div class="form-group">
    <label for="discountAmount">Discount Amount (if fixed):</label>
    <input
      type="number"
      class="form-control"
      id="discountAmount"
      name="discountAmount"
      value="<%= coupon.discountAmount || '' %>"
    />
  </div>

  <div class="form-group">
    <label for="discountPercentage">Discount Percentage (if percentage):</label>
    <input
      type="number"
      class="form-control"
      id="discountPercentage"
      name="discountPercentage"
      value="<%= coupon.discountPercentage || '' %>"
    />
  </div>

  <div class="form-group">
    <label for="maximumDiscount">Maximum Discount:</label>
    <input
      type="number"
      class="form-control"
      id="maximumDiscount"
      name="maximumDiscount"
      value="<%= coupon.maximumDiscount %>"
    />
  </div>

  <div class="form-group">
    <label for="validFrom">Valid From:</label>
    <input
      type="date"
      class="form-control"
      id="validFrom"
      name="validFrom"
      value="<%= coupon.validFrom.toISOString().split('T')[0] %>"
    />
  </div>

  <div class="form-group">
    <label for="validTo">Valid To:</label>
    <input
      type="date"
      class="form-control"
      id="validTo"
      name="validTo"
      value="<%= coupon.validTo.toISOString().split('T')[0] %>"
    />
  </div>

  

  <div class="text-center mt-4 mb-4">
    <button type="submit" class="btn btn-class">Submit</button>
  </div>
</form>
          <div class="error" id="Error" style="color: red"></div>
          <% if(typeof message!=='undefined' ){ %>
          <p style="color: green"><%= message %></p>
          <% } %>
        </div>
      </div>
    </div>
  </div>
</div>
<%- include('../partials/adminFooter') %>
